{"openapi":"3.0.0","paths":{"/api/users":{"post":{"operationId":"UsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequestDto"}}}},"responses":{"201":{"description":"User successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}},"409":{"description":"Email already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create user (admin only)","tags":["Users"]},"get":{"operationId":"UsersController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starts from 1)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":30,"type":"number"}}],"responses":{"200":{"description":"Paginated list of users","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUserResponseDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all users (admin only)","tags":["Users"]}},"/api/users/profile":{"get":{"description":"Retrieve the authenticated user's profile","operationId":"UsersController_getProfile","parameters":[],"responses":{"200":{"description":"User profile details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get current user profile","tags":["Users"]},"put":{"description":"Update the authenticated user's profile","operationId":"UsersController_updateProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequestDto"}}}},"responses":{"200":{"description":"Profile successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update current user profile","tags":["Users"]}},"/api/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"User details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get user by ID (admin only)","tags":["Users"]},"delete":{"operationId":"UsersController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"204":{"description":"User successfully deleted"},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete user (admin only)","tags":["Users"]}},"/api/products":{"post":{"operationId":"ProductsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"The product has been created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new product (admin only)","tags":["Products"]},"get":{"operationId":"ProductsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starts from 1)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":30,"type":"number"}},{"name":"categoryId","required":false,"in":"query","description":"Filter by category ID","schema":{"type":"string"}},{"name":"minPrice","required":false,"in":"query","description":"Filter by minimum price","schema":{"example":100000,"type":"number"}},{"name":"maxPrice","required":false,"in":"query","description":"Filter by maximum price","schema":{"example":500000,"type":"number"}},{"name":"isActive","required":false,"in":"query","description":"Filter by active status","schema":{"example":true,"type":"boolean"}},{"name":"inStock","required":false,"in":"query","description":"Filter by stock availability (greater than 0)","schema":{"example":true,"type":"boolean"}},{"name":"search","required":false,"in":"query","description":"Search in name, description, and tags","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort field","schema":{"example":"newest","type":"string","enum":["newest","price-asc","price-desc","popularity","top-seller"]}}],"responses":{"200":{"description":"Return all products matching the criteria.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProductResponseDto"}}}}},"summary":"Get all products with filtering options","tags":["Products"]}},"/api/products/slug/{slug}":{"get":{"operationId":"ProductsController_findBySlug","parameters":[{"name":"slug","required":true,"in":"path","description":"Product slug","schema":{"example":"handcrafted-wooden-bowl","type":"string"}}],"responses":{"200":{"description":"Return the product.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}},"404":{"description":"Product not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"summary":"Get a product by slug","tags":["Products"]}},"/api/products/{id}":{"put":{"operationId":"ProductsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"The product has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}},"404":{"description":"Product not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a product (admin only)","tags":["Products"]},"delete":{"operationId":"ProductsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"204":{"description":"The product has been successfully deleted."},"404":{"description":"Product not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete a product (admin only)","tags":["Products"]}},"/api/categories":{"post":{"operationId":"CategoriesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"The category has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}}},"security":[{"bearer":[]}],"summary":"Create a new category (admin only)","tags":["Categories"]}},"/api/categories/menu":{"get":{"operationId":"CategoriesController_getMenuCategories","parameters":[],"responses":{"200":{"description":"Return all categories for the menu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetMenuCategoryResponseDto"}}}}},"summary":"Get all categories for the menu","tags":["Categories"]}},"/api/categories/{id}":{"get":{"operationId":"CategoriesController_findOneById","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}},{"name":"includeChildren","required":false,"in":"query","description":"If true, include all children of categories children","schema":{"example":true,"type":"boolean"}},{"name":"includeParents","required":false,"in":"query","description":"If true, include all parents of categories parents","schema":{"example":true,"type":"boolean"}}],"responses":{"200":{"description":"Return the category.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}},"404":{"description":"Category not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"summary":"Get a category by ID","tags":["Categories"]},"put":{"operationId":"CategoriesController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"The category has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"404":{"description":"Category not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a category (admin only)","tags":["Categories"]}},"/api/promotions":{"post":{"operationId":"PromotionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePromotionDto"}}}},"responses":{"201":{"description":"The promotion has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionDto"}}}},"400":{"description":"Invalid input data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new promotion (admin only)","tags":["Promotions"]}},"/api/promotions/validate/{code}":{"get":{"operationId":"PromotionsController_validateCode","parameters":[{"name":"code","required":true,"in":"path","description":"Promotion code to validate","schema":{"example":"SUMMER20","type":"string"}}],"responses":{"200":{"description":"Validation result for the promotion code.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateCodePromotionResponseDto"}}}}},"summary":"Validate a promotion code","tags":["Promotions"]}},"/api/promotions/{id}":{"put":{"operationId":"PromotionsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePromotionDto"}}}},"responses":{"200":{"description":"The promotion has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionDto"}}}},"400":{"description":"Invalid input data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"404":{"description":"Promotion not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a promotion (admin only)","tags":["Promotions"]},"delete":{"operationId":"PromotionsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"204":{"description":"The promotion has been successfully deleted."},"404":{"description":"Promotion not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete a promotion (admin only)","tags":["Promotions"]}},"/api/promotions/{id}/toggle-active":{"patch":{"operationId":"PromotionsController_toggleActive","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Promotion active status toggled successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionDto"}}}},"404":{"description":"Promotion not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Toggle promotion active status (admin only)","tags":["Promotions"]}},"/api/auth/login":{"post":{"description":"Authenticate a user with email and password and return a JWT token","operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"description":"User credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"User successfully authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Invalid credentials provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}}},"summary":"Login user","tags":["Authentication"]}},"/api/auth/register":{"post":{"description":"Create a new user account and return a JWT token","operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequestDto"}}}},"responses":{"201":{"description":"User successfully registered","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterResponseDto"}}}},"400":{"description":"Invalid input or email already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}}},"summary":"Register user","tags":["Authentication"]}}},"info":{"title":"HandcraftBK Service","description":"Swagger documentation for HandcraftBK Service APIs","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"BadRequestResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"example":["Invalid input data"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Bad Request"}},"required":["statusCode","message","error"]},"CreateUserRequestDto":{"type":"object","properties":{"firstName":{"type":"string","description":"User first name","example":"John"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"email":{"type":"string","description":"User email address (must be unique)","example":"user@example.com"},"password":{"type":"string","description":"User password","example":"123456","minLength":6}},"required":["firstName","lastName","email","password"]},"CreateUserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the user","example":"550e8400-e29b-41d4-a716-446655440000"},"firstName":{"type":"string","description":"User first name","example":"John"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"email":{"type":"string","description":"User email address","example":"user@example.com"},"createdAt":{"format":"date-time","type":"string","description":"Date when the user was created","example":"2023-01-01T00:00:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Date when the user was last updated","example":"2023-01-01T00:00:00Z"}},"required":["id","firstName","lastName","email","createdAt","updatedAt"]},"UnauthorizedResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":401},"message":{"example":["Unauthorized"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Unauthorized"}},"required":["statusCode","message","error"]},"ForbiddenResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":403},"message":{"example":["Forbidden resource"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Forbidden"}},"required":["statusCode","message","error"]},"ConflictResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":409},"message":{"example":["Resource already exists"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Conflict"}},"required":["statusCode","message","error"]},"UserDto":{"type":"object","properties":{"id":{"type":"string","description":"User unique identifier","example":"550e8400-e29b-41d4-a716-446655440000"},"firstName":{"type":"string","description":"User first name","example":"John"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"email":{"type":"string","description":"User email address","example":"user@example.com"},"phone":{"type":"string","description":"User phone number","example":"+1234567890","nullable":true},"address":{"type":"string","description":"User address","example":"123 Main St","nullable":true},"city":{"type":"string","description":"User city","example":"New York","nullable":true},"state":{"type":"string","description":"User state/province","example":"NY","nullable":true},"zip":{"type":"string","description":"User zip/postal code","example":"10001","nullable":true},"country":{"type":"string","description":"User country","example":"USA","nullable":true},"createdAt":{"format":"date-time","type":"string","description":"User creation timestamp","example":"2023-05-15T14:30:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"User last update timestamp","example":"2023-05-15T14:30:00Z"}},"required":["id","firstName","lastName","email","phone","address","city","state","zip","country","createdAt","updatedAt"]},"PaginatedUserResponseDto":{"type":"object","properties":{"items":{"description":"Array of user items","type":"array","items":{"$ref":"#/components/schemas/UserDto"}},"total":{"type":"number","description":"Total number of items","example":42},"page":{"type":"number","description":"Current page number","example":1},"limit":{"type":"number","description":"Number of items per page","example":10},"totalPages":{"type":"number","description":"Total number of pages","example":5},"hasNextPage":{"type":"boolean","description":"Whether there is a next page","example":true},"hasPrevPage":{"type":"boolean","description":"Whether there is a previous page","example":false}},"required":["items","total","page","limit","totalPages","hasNextPage","hasPrevPage"]},"NotFoundResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":404},"message":{"example":["Resource not found"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Not Found"}},"required":["statusCode","message","error"]},"UpdateProfileRequestDto":{"type":"object","properties":{"firstName":{"type":"string","description":"User first name","example":"John"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"phone":{"type":"string","description":"User phone number","example":"+1234567890"},"address":{"type":"string","description":"User address","example":"123 Main St"},"city":{"type":"string","description":"User city","example":"New York"},"state":{"type":"string","description":"User state/province","example":"NY"},"zip":{"type":"string","description":"User zip/postal code","example":"10001"},"country":{"type":"string","description":"User country","example":"USA"}}},"CreateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the product","example":"Handcrafted Wooden Bowl"},"description":{"type":"string","description":"Detailed description of the product","example":"Beautiful handcrafted wooden bowl made from oak wood"},"category_id":{"type":"string","description":"Category ID of the product","example":"550e8400-e29b-41d4-a716-446655440000"},"price":{"type":"number","description":"Current sale price in VND","example":299000},"originalPrice":{"type":"number","description":"Original price before any discount/promotion in VND","example":350000},"currency":{"type":"string","description":"Currency code","example":"VND","default":"VND"},"stockQuantity":{"type":"number","description":"Stock quantity","example":100,"default":0},"sku":{"type":"string","description":"Product SKU (unique)","example":"HWB-001-OAK"},"images":{"description":"Array of image URLs/paths","example":["https://example.com/images/bowl1.jpg","https://example.com/images/bowl2.jpg"],"type":"array","items":{"type":"string"}},"specifications":{"type":"object","description":"Structured product specifications","example":{"dimensions":"10x10x5 cm","weight":"250g","color":"Natural Brown"}},"tags":{"description":"Tags for the product","example":"wood,kitchen,handmade,eco-friendly","type":"array","items":{"type":"string"}},"isActive":{"type":"boolean","description":"Product availability status","example":true,"default":true},"relatedProductIds":{"description":"Related product IDs","example":["550e8400-e29b-41d4-a716-446655440000","550e8400-e29b-41d4-a716-446655440001"],"type":"array","items":{"type":"string"}}},"required":["name","price","originalPrice"]},"CategoryDto":{"type":"object","properties":{"id":{"type":"string","description":"Category unique identifier (Snowflake ID)","example":"1234567890123456789"},"name":{"type":"string","description":"Category name","example":"Home Decor"},"pathUrl":{"type":"string","description":"URL path for the category","example":"/home-decor"},"parents":{"description":"Parent category","nullable":true,"type":"array","items":{"type":"string"}},"isLeaf":{"type":"boolean","description":"If this category has no subcategories","example":true},"children":{"description":"Children categories","nullable":true,"type":"array","items":{"type":"string"}},"productsCount":{"type":"number","description":"Number of products in this category","example":10}},"required":["id","name","pathUrl","isLeaf","productsCount"]},"ProductDto":{"type":"object","properties":{"id":{"type":"string","description":"Product unique identifier (Snowflake ID)","example":"1234567890123456789"},"name":{"type":"string","description":"Product name","example":"Handcrafted Wooden Bowl"},"slug":{"type":"string","description":"SEO-friendly URL slug","example":"handcrafted-wooden-bowl"},"description":{"type":"string","description":"Product description","example":"Beautiful handcrafted wooden bowl made from sustainable oak wood"},"category":{"description":"Category information","allOf":[{"$ref":"#/components/schemas/CategoryDto"}]},"price":{"type":"number","description":"Current price","example":299000},"originalPrice":{"type":"number","description":"Original price before any discounts","example":350000},"currency":{"type":"string","description":"Currency code","example":"VND"},"stockQuantity":{"type":"number","description":"Available stock quantity","example":25},"sku":{"type":"string","description":"SKU (Stock Keeping Unit)","example":"HWB-001-OAK"},"images":{"description":"Product images","example":["https://example.com/images/bowl1.jpg","https://example.com/images/bowl2.jpg"],"type":"array","items":{"type":"array"}},"specifications":{"type":"object","description":"Product specifications","example":{"dimensions":"10x10x5 cm","weight":"250g","color":"Natural Brown"}},"tags":{"description":"Product tags","example":["wood","kitchen","handmade","eco-friendly"],"type":"array","items":{"type":"array"}},"isActive":{"type":"boolean","description":"Is the product active","example":true},"relatedProductIds":{"description":"Related product IDs","example":["1234567890123456789","1234567890123456790"],"type":"array","items":{"type":"array"}},"rating":{"type":"number","description":"Product rating","example":4.5},"reviewCount":{"type":"number","description":"Number of reviews","example":42},"purchaseCount":{"type":"number","description":"Number of purchases","example":85},"createdAt":{"format":"date-time","type":"string","description":"Created date and time"},"updatedAt":{"format":"date-time","type":"string","description":"Last updated date and time"}},"required":["id","name","slug","price","originalPrice","currency","stockQuantity","isActive","rating","reviewCount","purchaseCount","createdAt","updatedAt"]},"PaginatedProductResponseDto":{"type":"object","properties":{"items":{"description":"Array of product items","type":"array","items":{"$ref":"#/components/schemas/ProductDto"}},"total":{"type":"number","description":"Total number of items","example":42},"page":{"type":"number","description":"Current page number","example":1},"limit":{"type":"number","description":"Number of items per page","example":10},"totalPages":{"type":"number","description":"Total number of pages","example":5},"hasNextPage":{"type":"boolean","description":"Whether there is a next page","example":true},"hasPrevPage":{"type":"boolean","description":"Whether there is a previous page","example":false}},"required":["items","total","page","limit","totalPages","hasNextPage","hasPrevPage"]},"UpdateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the product","example":"Handcrafted Wooden Bowl"},"slug":{"type":"string","description":"SEO-friendly URL slug","example":"handcrafted-wooden-bowl"},"description":{"type":"string","description":"Detailed description of the product","example":"Beautiful handcrafted wooden bowl made from oak wood"},"category_id":{"type":"string","description":"Category ID of the product","example":"550e8400-e29b-41d4-a716-446655440000"},"price":{"type":"number","description":"Current sale price in VND","example":299000},"originalPrice":{"type":"number","description":"Original price before any discount/promotion in VND","example":350000},"currency":{"type":"string","description":"Currency code","example":"VND"},"stockQuantity":{"type":"number","description":"Stock quantity","example":100},"sku":{"type":"string","description":"Product SKU (unique)","example":"HWB-001-OAK"},"images":{"description":"Array of image URLs/paths","example":["https://example.com/images/bowl1.jpg","https://example.com/images/bowl2.jpg"],"type":"array","items":{"type":"string"}},"specifications":{"type":"object","description":"Structured product specifications","example":{"dimensions":"10x10x5 cm","weight":"250g","color":"Natural Brown"}},"materials":{"type":"string","description":"Materials used to make the product","example":"Oak wood, natural varnish"},"tags":{"type":"string","description":"Tags for the product","example":"wood,kitchen,handmade,eco-friendly"},"isActive":{"type":"boolean","description":"Product availability status","example":true},"promotion_id":{"type":"string","description":"Promotion ID","example":"550e8400-e29b-41d4-a716-446655440000"},"relatedProductIds":{"description":"Related product IDs","example":["550e8400-e29b-41d4-a716-446655440000","550e8400-e29b-41d4-a716-446655440001"],"type":"array","items":{"type":"string"}}}},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"Category name","example":"Home Decor"},"parentId":{"type":"string","description":"Parent category ID","nullable":true}},"required":["name"]},"Category":{"type":"object","properties":{}},"GetMenuCategoryResponseDto":{"type":"object","properties":{"categories":{"description":"List of categories","type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}},"required":["categories"]},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"Category name","example":"Home Decor"},"pathUrl":{"type":"string","description":"URL path for the category","example":"/home-decor"},"parentId":{"type":"string","description":"Parent category ID","example":"550e8400-e29b-41d4-a716-446655440000","nullable":true},"isLeaf":{"type":"boolean","description":"Whether this category has no subcategories","example":true}}},"CreatePromotionDto":{"type":"object","properties":{"name":{"type":"string","description":"Promotion name","example":"Summer Sale 2023"},"description":{"type":"string","description":"Promotion description","example":"Get 20% off all summer items"},"code":{"type":"string","description":"Promotion code (unique)","example":"SUMMER20"},"discountType":{"type":"string","description":"Discount type","enum":["percentage","fixed_amount"],"example":"percentage"},"discountValue":{"type":"number","description":"Discount value (percentage or fixed amount)","example":20},"startDate":{"format":"date-time","type":"string","description":"Promotion start date","example":"2023-06-01T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"Promotion end date","example":"2023-08-31T23:59:59Z"},"minOrderValue":{"type":"number","description":"Minimum order value required to use promotion","example":500000},"targetScope":{"type":"string","description":"Target scope for the promotion","enum":["all","category","product"],"example":"category"},"usageLimit":{"type":"number","description":"Maximum number of times this promotion can be used","example":1000},"usageLimitPerUser":{"type":"number","description":"Maximum number of times a user can use this promotion","example":1},"categoryIds":{"description":"Category IDs this promotion applies to (when target_scope is \"category\")","example":["550e8400-e29b-41d4-a716-446655440000"],"type":"array","items":{"type":"string"}},"productIds":{"description":"Product IDs this promotion applies to (when target_scope is \"product\")","example":["550e8400-e29b-41d4-a716-446655440000"],"type":"array","items":{"type":"string"}}},"required":["name","discountType","discountValue","startDate","endDate","targetScope"]},"PromotionDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the promotion (Snowflake ID)","example":"1234567890123456789"},"name":{"type":"string","description":"Name of the promotion","example":"Black Friday Sale"},"description":{"type":"string","description":"Description of the promotion","example":"Get 50% off on all items during Black Friday!"},"startDate":{"format":"date-time","type":"string","description":"Start date of the promotion","example":"2023-11-24T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"End date of the promotion","example":"2023-11-30T23:59:59Z"},"discountType":{"type":"string","description":"Target scope of the promotion","enum":["ALL","CATEGORY","PRODUCT"],"example":"CATEGORY"},"discountValue":{"type":"number","description":"Value of the discount","example":50},"isActive":{"type":"boolean","description":"Indicates if the promotion is active","example":true},"createdAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was created","example":"2023-11-01T12:00:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was last updated","example":"2023-11-01T12:00:00Z"}},"required":["id","name","startDate","endDate","discountType","discountValue","isActive","createdAt","updatedAt"]},"ValidateCodePromotionResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the promotion (Snowflake ID)","example":"1234567890123456789"},"name":{"type":"string","description":"Name of the promotion","example":"Black Friday Sale"},"description":{"type":"string","description":"Description of the promotion","example":"Get 50% off on all items during Black Friday!"},"startDate":{"format":"date-time","type":"string","description":"Start date of the promotion","example":"2023-11-24T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"End date of the promotion","example":"2023-11-30T23:59:59Z"},"discountType":{"type":"string","description":"Target scope of the promotion","enum":["ALL","CATEGORY","PRODUCT"],"example":"CATEGORY"},"discountValue":{"type":"number","description":"Value of the discount","example":50},"isActive":{"type":"boolean","description":"Indicates if the promotion is active","example":true},"createdAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was created","example":"2023-11-01T12:00:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was last updated","example":"2023-11-01T12:00:00Z"},"valid":{"type":"boolean","description":"Indicates if the promotion code is valid","example":true},"promotion":{"description":"Promotion object if the code is valid","allOf":[{"$ref":"#/components/schemas/PromotionDto"}]},"message":{"type":"string","description":"Message indicating the reason for validation failure","example":"Promotion code is expired"}},"required":["id","name","startDate","endDate","discountType","discountValue","isActive","createdAt","updatedAt","valid"]},"UpdatePromotionDto":{"type":"object","properties":{"name":{"type":"string","description":"Promotion name","example":"Summer Sale 2023"},"description":{"type":"string","description":"Promotion description","example":"Get 20% off all summer items"},"code":{"type":"string","description":"Promotion code (unique)","example":"SUMMER20"},"discountType":{"type":"string","description":"Discount type","enum":["percentage","fixed_amount"],"example":"percentage"},"discountValue":{"type":"number","description":"Discount value (percentage or fixed amount)","example":20},"startDate":{"format":"date-time","type":"string","description":"Promotion start date","example":"2023-06-01T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"Promotion end date","example":"2023-08-31T23:59:59Z"},"minOrderValue":{"type":"number","description":"Minimum order value required to use promotion","example":500000},"targetScope":{"type":"string","description":"Target scope for the promotion","enum":["all","category","product"],"example":"category"},"usageLimit":{"type":"number","description":"Maximum number of times this promotion can be used","example":1000},"usageLimitPerUser":{"type":"number","description":"Maximum number of times a user can use this promotion","example":1},"isActive":{"type":"boolean","description":"Is the promotion active","example":true},"categoryIds":{"description":"Category IDs this promotion applies to (when target_scope is \"category\")","example":["550e8400-e29b-41d4-a716-446655440000"],"type":"array","items":{"type":"string"}},"productIds":{"description":"Product IDs this promotion applies to (when target_scope is \"product\")","example":["550e8400-e29b-41d4-a716-446655440000"],"type":"array","items":{"type":"string"}}}},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address","example":"user@example.com"},"password":{"type":"string","description":"User password","example":"123456","minLength":6}},"required":["email","password"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"User ID","example":"550e8400-e29b-41d4-a716-446655440000"},"firstName":{"type":"string","description":"User first name","example":"John"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"email":{"type":"string","description":"User email","example":"user@example.com"},"role":{"type":"string","description":"User role","enum":["user","admin"],"example":"user"}},"required":["id","firstName","lastName","email","role"]},"LoginResponseDto":{"type":"object","properties":{"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserResponseDto"}]},"token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["user","token"]},"RegisterResponseDto":{"type":"object","properties":{"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserResponseDto"}]},"token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["user","token"]}}}}