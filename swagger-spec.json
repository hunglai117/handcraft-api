{"openapi":"3.0.0","paths":{"/vnpay-ipn":{"get":{"operationId":"ForwardController_vnpayIpn","parameters":[],"responses":{"200":{"description":""}},"tags":["Forward"]}},"/vnpay-return":{"get":{"operationId":"ForwardController_vnpayReturn","parameters":[],"responses":{"200":{"description":""}},"tags":["Forward"]}},"/api/users/profile":{"get":{"description":"Retrieve the authenticated user's profile","operationId":"UsersController_getProfile","parameters":[],"responses":{"200":{"description":"User profile details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get current user profile","tags":["Users"]},"put":{"description":"Update the authenticated user's profile","operationId":"UsersController_updateProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequestDto"}}}},"responses":{"200":{"description":"Profile successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update current user profile","tags":["Users"]}},"/api/users/profile/providers":{"get":{"description":"Retrieve all social providers linked to the authenticated user's account","operationId":"UsersController_getUserProviders","parameters":[],"responses":{"200":{"description":"User's linked social providers","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserProviderDto"}}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get current user's linked social providers","tags":["Users"]}},"/api/users":{"post":{"operationId":"AdminUsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequestDto"}}}},"responses":{"201":{"description":"User successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}},"409":{"description":"Email already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConflictResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create user (admin only)","tags":["Users-Admin"]},"get":{"operationId":"AdminUsersController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starts from 1)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":30,"type":"number"}}],"responses":{"200":{"description":"Paginated list of users","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUserResponseDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all users (admin only)","tags":["Users-Admin"]}},"/api/users/{id}":{"get":{"operationId":"AdminUsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"User details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDto"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get user by ID (admin only)","tags":["Users-Admin"]},"delete":{"operationId":"AdminUsersController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"204":{"description":"User successfully deleted"},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}},"403":{"description":"Forbidden - Requires admin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForbiddenResponseDto"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete user (admin only)","tags":["Users-Admin"]}},"/api/products":{"post":{"operationId":"AdminProductsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"The product has been created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new product (admin only)","tags":["Products-Admin"]},"get":{"operationId":"PublicProductsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starts from 1)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":30,"type":"number"}},{"name":"categoryId","required":false,"in":"query","description":"Filter by category ID","schema":{"type":"string"}},{"name":"minPrice","required":false,"in":"query","description":"Filter by minimum price","schema":{"example":100000,"type":"number"}},{"name":"maxPrice","required":false,"in":"query","description":"Filter by maximum price","schema":{"example":500000,"type":"number"}},{"name":"inStock","required":false,"in":"query","description":"Filter by stock availability (greater than 0)","schema":{"example":true,"type":"boolean"}},{"name":"search","required":false,"in":"query","description":"Search in name, description, and tags","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort field","schema":{"example":"newest","type":"string","enum":["newest","price-asc","price-desc","popularity","top-seller"]}}],"responses":{"200":{"description":"Return all products matching the criteria.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedProductResponseDto"}}}}},"summary":"Get all products with filtering options","tags":["Products-Public"]}},"/api/products/simple":{"post":{"operationId":"AdminProductsController_createSimple","parameters":[],"requestBody":{"required":true,"description":"Simple product data with a single price point","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSimpleProductDto"}}}},"responses":{"201":{"description":"The simple product has been created successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a simple product with a single variant (admin only)","tags":["Products-Admin"]}},"/api/products/{id}":{"put":{"operationId":"AdminProductsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"The product has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}},"404":{"description":"Product not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a product (admin only)","tags":["Products-Admin"]},"delete":{"operationId":"AdminProductsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"204":{"description":"The product has been successfully deleted."},"404":{"description":"Product not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete a product (admin only)","tags":["Products-Admin"]},"get":{"operationId":"PublicProductsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"example":"5202676564361216","type":"string"}}],"responses":{"200":{"description":"Return the product.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}},"404":{"description":"Product not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"summary":"Get a product by ID","tags":["Products-Public"]}},"/api/products/by-ids":{"get":{"operationId":"PublicProductsController_findByIds","parameters":[{"name":"productIds","required":true,"in":"query","description":"Comma-separated list of product IDs","schema":{"example":"12345,67890","type":"string"}}],"responses":{"200":{"description":"Return a map of products keyed by ID. Value is null if product not found.","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"oneOf":[{"$ref":"#/components/schemas/ProductDto"},{"type":"null"}]}}}}}},"summary":"Get multiple products by their IDs","tags":["Products-Public"]}},"/api/products/slug/{slug}":{"get":{"operationId":"PublicProductsController_findBySlug","parameters":[{"name":"slug","required":true,"in":"path","description":"Product slug","schema":{"example":"handcrafted-wooden-bowl","type":"string"}}],"responses":{"200":{"description":"Return the product.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductDto"}}}},"404":{"description":"Product not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"summary":"Get a product by slug","tags":["Products-Public"]}},"/api/categories":{"post":{"operationId":"AdminCategoriesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"The category has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}}},"security":[{"bearer":[]}],"summary":"Create a new category (admin only)","tags":["Categories-Admin"]}},"/api/categories/{id}":{"put":{"operationId":"AdminCategoriesController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"The category has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Category"}}}},"404":{"description":"Category not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a category (admin only)","tags":["Categories-Admin"]},"get":{"operationId":"PublicCategoriesController_findOneById","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}},{"name":"includeChildren","required":false,"in":"query","description":"If true, include all children of categories children","schema":{"example":true,"type":"boolean"}},{"name":"includeParents","required":false,"in":"query","description":"If true, include all parents of categories parents","schema":{"example":true,"type":"boolean"}}],"responses":{"200":{"description":"Return the category.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryDto"}}}},"404":{"description":"Category not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"summary":"Get a category by ID","tags":["Categories"]}},"/api/categories/menu":{"get":{"operationId":"PublicCategoriesController_getMenuCategories","parameters":[],"responses":{"200":{"description":"Return all categories for the menu.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetMenuCategoryResponseDto"}}}}},"summary":"Get all categories for the menu","tags":["Categories"]}},"/api/promotions":{"post":{"operationId":"AdminPromotionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePromotionDto"}}}},"responses":{"201":{"description":"The promotion has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionDto"}}}},"400":{"description":"Invalid input data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new promotion (admin only)","tags":["Promotions-Admin"]}},"/api/promotions/{id}":{"put":{"operationId":"AdminPromotionsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePromotionDto"}}}},"responses":{"200":{"description":"The promotion has been successfully updated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionDto"}}}},"400":{"description":"Invalid input data.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"404":{"description":"Promotion not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a promotion (admin only)","tags":["Promotions-Admin"]},"delete":{"operationId":"AdminPromotionsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"204":{"description":"The promotion has been successfully deleted."},"404":{"description":"Promotion not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Delete a promotion (admin only)","tags":["Promotions-Admin"]}},"/api/promotions/{id}/toggle-active":{"patch":{"operationId":"AdminPromotionsController_toggleActive","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"example":"550e8400-e29b-41d4-a716-446655440000","type":"string"}}],"responses":{"200":{"description":"Promotion active status toggled successfully.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PromotionDto"}}}},"404":{"description":"Promotion not found.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFoundResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Toggle promotion active status (admin only)","tags":["Promotions-Admin"]}},"/api/promotions/active":{"get":{"operationId":"PromotionsController_getActivePromotions","parameters":[],"responses":{"200":{"description":"Returns all active promotions with available usage limit","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PromotionDto"}}}}}},"security":[{"bearer":[]}],"summary":"Get all active promotions with available usage","tags":["Promotions"]}},"/api/promotions/validate/{code}":{"get":{"operationId":"PromotionsController_validateCode","parameters":[{"name":"code","required":true,"in":"path","description":"Promotion code to validate","schema":{"example":"SUMMER20","type":"string"}}],"responses":{"200":{"description":"Validation result for the promotion code.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValidateCodePromotionResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Validate a promotion code","tags":["Promotions"]}},"/api/cart":{"get":{"operationId":"CartController_getCart","parameters":[],"responses":{"200":{"description":"Returns the user cart with items","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"summary":"Get the current user cart","tags":["Carts"]},"delete":{"operationId":"CartController_clearCart","parameters":[],"responses":{"200":{"description":"Cart cleared successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"summary":"Clear the entire cart","tags":["Carts"]}},"/api/cart/items":{"post":{"operationId":"CartController_addToCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddToCartDto"}}}},"responses":{"201":{"description":"Item added to cart successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"summary":"Add an item to cart","tags":["Carts"]}},"/api/cart/items/batch":{"post":{"operationId":"CartController_addMultipleToCart","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddMultipleToCartDto"}}}},"responses":{"201":{"description":"Items added to cart successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"summary":"Add multiple items to cart at once","tags":["Carts"]}},"/api/cart/items/{itemId}":{"put":{"operationId":"CartController_updateCartItem","parameters":[{"name":"itemId","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCartItemDto"}}}},"responses":{"200":{"description":"Cart item updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a cart item quantity","tags":["Carts"]},"delete":{"operationId":"CartController_removeCartItem","parameters":[{"name":"itemId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Item removed from cart successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CartDto"}}}}},"security":[{"bearer":[]}],"summary":"Remove an item from cart","tags":["Carts"]}},"/api/orders":{"post":{"operationId":"OrderController_placeOrder","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceOrderDto"}}}},"responses":{"201":{"description":"Order placed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderDto"}}}}},"security":[{"bearer":[]}],"summary":"Place a new order","tags":["Orders"]},"get":{"operationId":"OrderController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starts from 1)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":30,"type":"number"}}],"responses":{"200":{"description":"Return all orders based on role and user.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedOrderResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Get all orders (admin) or current user orders","tags":["Orders"]}},"/api/orders/{id}":{"get":{"operationId":"OrderController_getOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Returns order details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderDto"}}}}},"security":[{"bearer":[]}],"summary":"Get order details","tags":["Orders"]}},"/api/orders/{id}/cancel":{"put":{"operationId":"OrderController_cancelOrder","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Order cancelled successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderDto"}}}}},"security":[{"bearer":[]}],"summary":"Cancel an order","tags":["Orders"]}},"/api/payment/vnpay/ipn":{"get":{"operationId":"VnpayController_handleIpn","parameters":[],"responses":{"200":{"description":"VNPay IPN response"}},"summary":"Handle VNPay IPN (Instant Payment Notification)","tags":["Payment-Vnpay"]}},"/api/payment/vnpay/return":{"get":{"operationId":"VnpayController_handleReturn","parameters":[],"responses":{"200":{"description":"VNPay return URL response"}},"summary":"Handle VNPay return URL","tags":["Payment-Vnpay"]}},"/api/auth/login":{"post":{"description":"Authenticate a user with email and password and return a JWT token","operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"description":"User credentials","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"User successfully authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Invalid credentials provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}}},"summary":"Login user","tags":["Authentication-Public"]}},"/api/auth/register":{"post":{"description":"Create a new user account and return a JWT token","operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDto"}}}},"responses":{"201":{"description":"User successfully registered","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterResponseDto"}}}},"400":{"description":"Invalid input or email already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}}},"summary":"Register user","tags":["Authentication-Public"]}},"/api/auth/social-login":{"post":{"description":"Authenticate using a social provider token (Google, Facebook, etc.)","operationId":"AuthController_socialLogin","parameters":[],"requestBody":{"required":true,"description":"Social provider token details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SocialAuthRequestDto"}}}},"responses":{"200":{"description":"User successfully authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}},"401":{"description":"Invalid token provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnauthorizedResponseDto"}}}}},"summary":"Login with social provider","tags":["Authentication-Public"]}},"/api/auth/verify-token":{"post":{"description":"Verify if a JWT token is valid and return token information","operationId":"AuthController_verifyToken","parameters":[],"requestBody":{"required":true,"description":"JWT token to verify","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyTokenDto"}}}},"responses":{"200":{"description":"Token verification result","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyTokenResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}}},"summary":"Verify JWT token","tags":["Authentication-Public"]}},"/api/auth/link-provider":{"post":{"description":"Link a social provider account to the current authenticated user","operationId":"NotPublicAuthController_linkProvider","parameters":[],"requestBody":{"required":true,"description":"Social provider token details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SocialAuthRequestDto"}}}},"responses":{"200":{"description":"Provider successfully linked"},"400":{"description":"Invalid input or provider already linked to another account","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Link social provider to account","tags":["Authentication"]}},"/api/auth/unlink-provider/{provider}":{"delete":{"description":"Remove a linked social provider from the current authenticated user","operationId":"NotPublicAuthController_unlinkProvider","parameters":[{"name":"provider","required":true,"in":"path","description":"Provider type to unlink","schema":{"enum":["google","facebook"],"type":"string"}}],"responses":{"200":{"description":"Provider successfully unlinked"},"400":{"description":"Provider not linked to account","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BadRequestResponseDto"}}}}},"security":[{"bearer":[]}],"summary":"Unlink social provider from account","tags":["Authentication"]}},"/api/comments":{"post":{"operationId":"CommentController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentDto"}}}},"responses":{"201":{"description":"Comment created successfully"}},"security":[{"bearer":[]}],"summary":"Create a new comment","tags":["comments"]},"get":{"operationId":"CommentController_findAll","parameters":[{"name":"status","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Return all approved comments"}},"summary":"Get all approved comments","tags":["comments"]}},"/api/comments/{id}":{"get":{"operationId":"CommentController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the comment"},"404":{"description":"Comment not found"}},"summary":"Get a specific comment by ID","tags":["comments"]},"patch":{"operationId":"CommentController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommentDto"}}}},"responses":{"200":{"description":"Comment updated successfully"},"403":{"description":"Forbidden"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Update a comment","tags":["comments"]},"delete":{"operationId":"CommentController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Comment deleted successfully"},"403":{"description":"Forbidden"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Delete a comment","tags":["comments"]}},"/api/admin/comments":{"get":{"operationId":"AdminCommentsController_findAll","parameters":[{"name":"status","required":false,"in":"query","description":"Filter comments by status","schema":{"enum":["pending","approved","rejected"],"type":"string"}}],"responses":{"200":{"description":"Return filtered comments"}},"security":[{"bearer":[]}],"summary":"Get all comments with optional status filter","tags":["admin/comments"]}},"/api/admin/comments/pending":{"get":{"operationId":"AdminCommentController_findPending","parameters":[],"responses":{"200":{"description":"Return all pending comments"}},"security":[{"bearer":[]}],"summary":"Get all pending comments (admin only)","tags":["admin/comments"]}},"/api/admin/comments/{id}/approve":{"patch":{"operationId":"AdminCommentController_approve","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Comment approved successfully"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Approve a comment (admin only)","tags":["admin/comments"]},"post":{"operationId":"AdminCommentsController_approveComment","parameters":[{"name":"id","required":true,"in":"path","description":"Comment ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Comment approved successfully"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Approve a comment","tags":["admin/comments"]}},"/api/admin/comments/{id}/reject":{"patch":{"operationId":"AdminCommentController_reject","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Comment rejected successfully"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Reject a comment (admin only)","tags":["admin/comments"]},"post":{"operationId":"AdminCommentsController_rejectComment","parameters":[{"name":"id","required":true,"in":"path","description":"Comment ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectCommentDto"}}}},"responses":{"200":{"description":"Comment rejected successfully"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Reject a comment","tags":["admin/comments"]}},"/api/admin/comments/{id}":{"patch":{"operationId":"AdminCommentController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommentDto"}}}},"responses":{"200":{"description":"Comment updated successfully"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Update any comment (admin only)","tags":["admin/comments"]},"delete":{"operationId":"AdminCommentsController_removeComment","parameters":[{"name":"id","required":true,"in":"path","description":"Comment ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Comment and replies deleted successfully"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Delete a comment and all its replies","tags":["admin/comments"]},"get":{"operationId":"AdminCommentsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Comment ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the comment"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Get a specific comment","tags":["admin/comments"]}},"/api/comment-replies":{"post":{"operationId":"CommentReplyController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentReplyDto"}}}},"responses":{"201":{"description":"Comment reply created successfully"},"403":{"description":"Forbidden - only admins can create replies"}},"security":[{"bearer":[]}],"summary":"Create a new comment reply (admin only)","tags":["comment-replies"]}},"/api/comment-replies/comment/{commentId}":{"get":{"operationId":"CommentReplyController_findByCommentId","parameters":[{"name":"commentId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Return all replies for the comment"}},"summary":"Get all replies for a specific comment","tags":["comment-replies"]}},"/api/comment-replies/{id}":{"get":{"operationId":"CommentReplyController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the comment reply"},"404":{"description":"Comment reply not found"}},"summary":"Get a specific comment reply by ID","tags":["comment-replies"]},"patch":{"operationId":"CommentReplyController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCommentReplyDto"}}}},"responses":{"200":{"description":"Comment reply updated successfully"},"403":{"description":"Forbidden"},"404":{"description":"Comment reply not found"}},"security":[{"bearer":[]}],"summary":"Update a comment reply (admin only)","tags":["comment-replies"]},"delete":{"operationId":"CommentReplyController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Comment reply deleted successfully"},"403":{"description":"Forbidden"},"404":{"description":"Comment reply not found"}},"security":[{"bearer":[]}],"summary":"Delete a comment reply (admin only)","tags":["comment-replies"]}},"/api/admin/dashboard/statistics":{"get":{"operationId":"AdminDashboardController_getDashboardStatistics","parameters":[],"responses":{"200":{"description":"Returns statistics for the admin dashboard"}},"security":[{"bearer":[]}],"summary":"Get dashboard statistics (total users, orders, products, etc.)","tags":["admin/dashboard"]}},"/api/admin/dashboard/recent-orders":{"get":{"operationId":"AdminDashboardController_getRecentOrders","parameters":[],"responses":{"200":{"description":"Returns recent orders"}},"security":[{"bearer":[]}],"summary":"Get recent orders for the dashboard","tags":["admin/dashboard"]}},"/api/admin/dashboard/sales-analytics":{"get":{"operationId":"AdminDashboardController_getSalesAnalytics","parameters":[],"responses":{"200":{"description":"Returns sales analytics data"}},"security":[{"bearer":[]}],"summary":"Get sales analytics for the dashboard","tags":["admin/dashboard"]}},"/api/admin/dashboard/top-selling-products":{"get":{"operationId":"AdminDashboardController_getTopSellingProducts","parameters":[],"responses":{"200":{"description":"Returns top selling products data"}},"security":[{"bearer":[]}],"summary":"Get top selling products","tags":["admin/dashboard"]}},"/api/admin/dashboard/user-growth":{"get":{"operationId":"AdminDashboardController_getUserGrowth","parameters":[],"responses":{"200":{"description":"Returns user growth analytics data"}},"security":[{"bearer":[]}],"summary":"Get user growth data","tags":["admin/dashboard"]}},"/api/admin/users":{"get":{"operationId":"AdminUsersController_findAll","parameters":[{"name":"role","required":true,"in":"query","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","schema":{"type":"number"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"Return all users based on filters"}},"security":[{"bearer":[]}],"summary":"Get all users with optional filters","tags":["admin/users"]},"post":{"operationId":"AdminUsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequestDto"}}}},"responses":{"201":{"description":"User created successfully"}},"security":[{"bearer":[]}],"summary":"Create a new user","tags":["admin/users"]}},"/api/admin/users/stats":{"get":{"operationId":"AdminUsersController_getUserStats","parameters":[],"responses":{"200":{"description":"Return user statistics"}},"security":[{"bearer":[]}],"summary":"Get user statistics","tags":["admin/users"]}},"/api/admin/users/{id}":{"get":{"operationId":"AdminUsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the user"},"404":{"description":"User not found"}},"security":[{"bearer":[]}],"summary":"Get specific user by ID","tags":["admin/users"]},"put":{"operationId":"AdminUsersController_update","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminUpdateUserDto"}}}},"responses":{"200":{"description":"User updated successfully"},"404":{"description":"User not found"}},"security":[{"bearer":[]}],"summary":"Update a user","tags":["admin/users"]},"delete":{"operationId":"AdminUsersController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"string"}}],"responses":{"200":{"description":"User deleted successfully"},"404":{"description":"User not found"}},"security":[{"bearer":[]}],"summary":"Delete a user","tags":["admin/users"]}},"/api/admin/products":{"get":{"operationId":"AdminProductsController_findAll","parameters":[{"name":"page","required":false,"in":"query","description":"Page number (starts from 1)","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","description":"Number of items per page","schema":{"minimum":1,"maximum":100,"default":30,"type":"number"}},{"name":"categoryId","required":false,"in":"query","description":"Filter by category ID","schema":{"type":"string"}},{"name":"minPrice","required":false,"in":"query","description":"Filter by minimum price","schema":{"example":100000,"type":"number"}},{"name":"maxPrice","required":false,"in":"query","description":"Filter by maximum price","schema":{"example":500000,"type":"number"}},{"name":"inStock","required":false,"in":"query","description":"Filter by stock availability (greater than 0)","schema":{"example":true,"type":"boolean"}},{"name":"search","required":false,"in":"query","description":"Search in name, description, and tags","schema":{"type":"string"}},{"name":"sortBy","required":false,"in":"query","description":"Sort field","schema":{"example":"newest","type":"string","enum":["newest","price-asc","price-desc","popularity","top-seller"]}}],"responses":{"200":{"description":"Return paginated products"}},"security":[{"bearer":[]}],"summary":"Get all products with pagination and filters","tags":["admin/products"]},"post":{"operationId":"AdminProductsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"The product has been successfully created"}},"security":[{"bearer":[]}],"summary":"Create a new product","tags":["admin/products"]}},"/api/admin/products/stats":{"get":{"operationId":"AdminProductsController_getProductStats","parameters":[],"responses":{"200":{"description":"Return product statistics"}},"security":[{"bearer":[]}],"summary":"Get product statistics","tags":["admin/products"]}},"/api/admin/products/{id}":{"get":{"operationId":"AdminProductsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the product"},"404":{"description":"Product not found"}},"security":[{"bearer":[]}],"summary":"Get a product by ID","tags":["admin/products"]},"put":{"operationId":"AdminProductsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductDto"}}}},"responses":{"200":{"description":"The product has been successfully updated"},"404":{"description":"Product not found"}},"security":[{"bearer":[]}],"summary":"Update a product","tags":["admin/products"]},"delete":{"operationId":"AdminProductsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Product ID","schema":{"type":"string"}}],"responses":{"200":{"description":"The product has been successfully deleted"},"404":{"description":"Product not found"}},"security":[{"bearer":[]}],"summary":"Delete a product","tags":["admin/products"]}},"/api/admin/categories":{"get":{"operationId":"AdminCategoriesController_findAll","parameters":[],"responses":{"200":{"description":"Return all categories"}},"security":[{"bearer":[]}],"summary":"Get all categories","tags":["admin/categories"]},"post":{"operationId":"AdminCategoriesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCategoryDto"}}}},"responses":{"201":{"description":"Category created successfully"}},"security":[{"bearer":[]}],"summary":"Create a new category","tags":["admin/categories"]}},"/api/admin/categories/tree":{"get":{"operationId":"AdminCategoriesController_getCategoryTree","parameters":[],"responses":{"200":{"description":"Return categories in tree structure"}},"security":[{"bearer":[]}],"summary":"Get category tree structure","tags":["admin/categories"]}},"/api/admin/categories/stats":{"get":{"operationId":"AdminCategoriesController_getCategoryStats","parameters":[],"responses":{"200":{"description":"Return category statistics"}},"security":[{"bearer":[]}],"summary":"Get category statistics","tags":["admin/categories"]}},"/api/admin/categories/{id}":{"get":{"operationId":"AdminCategoriesController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the category"},"404":{"description":"Category not found"}},"security":[{"bearer":[]}],"summary":"Get a specific category","tags":["admin/categories"]},"put":{"operationId":"AdminCategoriesController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCategoryDto"}}}},"responses":{"200":{"description":"Category updated successfully"},"404":{"description":"Category not found"}},"security":[{"bearer":[]}],"summary":"Update a category","tags":["admin/categories"]},"delete":{"operationId":"AdminCategoriesController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Category ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Category deleted successfully"},"404":{"description":"Category not found"}},"security":[{"bearer":[]}],"summary":"Delete a category","tags":["admin/categories"]}},"/api/admin/orders/statistics/daily":{"get":{"operationId":"AdminOrdersController_getDailyStatistics","parameters":[],"responses":{"200":{"description":"Return daily order statistics"}},"security":[{"bearer":[]}],"summary":"Get daily order statistics","tags":["admin/orders"]}},"/api/admin/orders/statistics/monthly":{"get":{"operationId":"AdminOrdersController_getMonthlyStatistics","parameters":[],"responses":{"200":{"description":"Return monthly order statistics"}},"security":[{"bearer":[]}],"summary":"Get monthly order statistics","tags":["admin/orders"]}},"/api/admin/orders":{"get":{"operationId":"AdminOrdersController_findAll","parameters":[{"name":"status","required":false,"in":"query","description":"Filter by order status","schema":{"enum":["pending","paid","processing","ready_to_ship","shipped","delivered","completed","cancelled","refund_requested","refunded","partially_refunded"],"type":"string"}},{"name":"limit","required":false,"in":"query","description":"Items per page, default is 10","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","description":"Page number, default is 1","schema":{"type":"number"}}],"responses":{"200":{"description":"Return all orders"}},"security":[{"bearer":[]}],"summary":"Get all orders with pagination","tags":["admin/orders"]}},"/api/admin/orders/{id}":{"get":{"operationId":"AdminOrdersController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the order details"},"404":{"description":"Order not found"}},"security":[{"bearer":[]}],"summary":"Get order details by ID","tags":["admin/orders"]}},"/api/admin/orders/{id}/status":{"patch":{"operationId":"AdminOrdersController_updateStatus","parameters":[{"name":"id","required":true,"in":"path","description":"Order ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderStatusDto"}}}},"responses":{"200":{"description":"Order status updated successfully"},"404":{"description":"Order not found"}},"security":[{"bearer":[]}],"summary":"Update order status","tags":["admin/orders"]}},"/api/admin/promotions":{"get":{"operationId":"AdminPromotionsController_findAll","parameters":[{"name":"includeInactive","required":true,"in":"query","schema":{"type":"boolean"}}],"responses":{"200":{"description":"Return all promotions"}},"security":[{"bearer":[]}],"summary":"Get all promotions including inactive ones","tags":["admin/promotions"]},"post":{"operationId":"AdminPromotionsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePromotionDto"}}}},"responses":{"201":{"description":"Promotion created successfully"}},"security":[{"bearer":[]}],"summary":"Create a new promotion","tags":["admin/promotions"]}},"/api/admin/promotions/stats":{"get":{"operationId":"AdminPromotionsController_getPromotionStats","parameters":[],"responses":{"200":{"description":"Return promotion statistics"}},"security":[{"bearer":[]}],"summary":"Get promotion statistics","tags":["admin/promotions"]}},"/api/admin/promotions/{id}":{"get":{"operationId":"AdminPromotionsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Return the promotion"},"404":{"description":"Promotion not found"}},"security":[{"bearer":[]}],"summary":"Get a specific promotion","tags":["admin/promotions"]},"put":{"operationId":"AdminPromotionsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePromotionDto"}}}},"responses":{"200":{"description":"Promotion updated successfully"},"404":{"description":"Promotion not found"}},"security":[{"bearer":[]}],"summary":"Update a promotion","tags":["admin/promotions"]},"delete":{"operationId":"AdminPromotionsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Promotion deleted successfully"},"404":{"description":"Promotion not found"}},"security":[{"bearer":[]}],"summary":"Delete a promotion","tags":["admin/promotions"]}},"/api/admin/promotions/{id}/toggle-active":{"post":{"operationId":"AdminPromotionsController_toggleActive","parameters":[{"name":"id","required":true,"in":"path","description":"Promotion ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Promotion status toggled successfully"},"404":{"description":"Promotion not found"}},"security":[{"bearer":[]}],"summary":"Toggle promotion active status","tags":["admin/promotions"]}},"/api/admin/comments/stats":{"get":{"operationId":"AdminCommentsController_getCommentStats","parameters":[],"responses":{"200":{"description":"Return comment statistics"}},"security":[{"bearer":[]}],"summary":"Get comment statistics","tags":["admin/comments"]}},"/api/admin/comments/{id}/reply":{"post":{"operationId":"AdminCommentsController_replyToComment","parameters":[{"name":"id","required":true,"in":"path","description":"Comment ID","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminReplyDto"}}}},"responses":{"201":{"description":"Reply added successfully"},"404":{"description":"Comment not found"}},"security":[{"bearer":[]}],"summary":"Reply to a comment as admin","tags":["admin/comments"]}},"/api/admin/comments/replies/{id}":{"delete":{"operationId":"AdminCommentsController_removeReply","parameters":[{"name":"id","required":true,"in":"path","description":"Reply ID","schema":{"type":"string"}}],"responses":{"200":{"description":"Reply deleted successfully"},"404":{"description":"Reply not found"}},"security":[{"bearer":[]}],"summary":"Delete a specific reply","tags":["admin/comments"]}}},"info":{"title":"HandcraftBK Service","description":"Swagger documentation for HandcraftBK Service APIs","version":"1.0.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"BadRequestResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":400},"message":{"example":["Invalid input data"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Bad Request"}},"required":["statusCode","message","error"]},"UserDto":{"type":"object","properties":{"id":{"type":"string","description":"User unique identifier"},"fullName":{"type":"string","description":"User full name","example":"John Doe"},"email":{"type":"string","description":"User email address","example":"user@example.com"},"role":{"type":"string","description":"User role","example":"user","enum":["user","admin"]},"phone":{"type":"string","description":"User phone number","example":"+1234567890","nullable":true},"address":{"type":"string","description":"User address","example":"123 Main St","nullable":true},"city":{"type":"string","description":"User city","example":"New York","nullable":true},"country":{"type":"string","description":"User country","example":"USA","nullable":true},"createdAt":{"format":"date-time","type":"string","description":"User creation timestamp","example":"2023-05-15T14:30:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"User last update timestamp","example":"2023-05-15T14:30:00Z"}},"required":["id","fullName","email","role","phone","address","city","country","createdAt","updatedAt"]},"UnauthorizedResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":401},"message":{"example":["Unauthorized"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Unauthorized"}},"required":["statusCode","message","error"]},"NotFoundResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":404},"message":{"example":["Resource not found"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Not Found"}},"required":["statusCode","message","error"]},"UpdateProfileRequestDto":{"type":"object","properties":{"fullName":{"type":"string","description":"User full name","example":"John Doe"},"phone":{"type":"string","description":"User phone number","example":"+1234567890"},"address":{"type":"string","description":"User address","example":"123 Main St"},"city":{"type":"string","description":"User city","example":"New York"},"country":{"type":"string","description":"User country","example":"USA"}}},"UserProviderDto":{"type":"object","properties":{"id":{"type":"string","description":"Provider unique identifier"},"provider":{"type":"string","description":"Provider type","enum":["google","facebook"],"example":"google"},"providerUserId":{"type":"string","description":"Provider-specific ID for this user","example":"12345678901234567890"},"createdAt":{"format":"date-time","type":"string","description":"Provider connection creation date","example":"2023-05-15T14:30:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Provider connection last update date","example":"2023-05-15T14:30:00Z"}},"required":["id","provider","providerUserId","createdAt","updatedAt"]},"CreateUserRequestDto":{"type":"object","properties":{"fullName":{"type":"string","description":"User full name","example":"John Doe"},"email":{"type":"string","description":"User email address (must be unique)","example":"user@example.com"},"password":{"type":"string","description":"User password","example":"123456","minLength":6},"phone":{"type":"string","description":"User phone number","example":"+1234567890"},"address":{"type":"string","description":"User address","example":"123 Main St"},"city":{"type":"string","description":"User city","example":"New York"},"country":{"type":"string","description":"User country","example":"USA"}},"required":["fullName","email","password"]},"CreateUserResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the user"},"fullName":{"type":"string","description":"User full name","example":"John Doe"},"email":{"type":"string","description":"User email address","example":"user@example.com"},"phone":{"type":"string","description":"User phone number","example":"+1234567890"},"address":{"type":"string","description":"User address","example":"123 Main St"},"city":{"type":"string","description":"User city","example":"New York"},"country":{"type":"string","description":"User country","example":"USA"},"createdAt":{"format":"date-time","type":"string","description":"Date when the user was created","example":"2023-01-01T00:00:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Date when the user was last updated","example":"2023-01-01T00:00:00Z"}},"required":["id","fullName","email","createdAt","updatedAt"]},"ForbiddenResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":403},"message":{"example":["Forbidden resource"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Forbidden"}},"required":["statusCode","message","error"]},"ConflictResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":409},"message":{"example":["Resource already exists"],"type":"array","items":{"type":"string"}},"error":{"type":"string","example":"Conflict"}},"required":["statusCode","message","error"]},"PaginatedUserResponseDto":{"type":"object","properties":{"items":{"description":"Array of user items","type":"array","items":{"$ref":"#/components/schemas/UserDto"}},"total":{"type":"number","description":"Total number of items","example":42},"page":{"type":"number","description":"Current page number","example":1},"limit":{"type":"number","description":"Number of items per page","example":10},"totalPages":{"type":"number","description":"Total number of pages","example":5},"hasNextPage":{"type":"boolean","description":"Whether there is a next page","example":true},"hasPrevPage":{"type":"boolean","description":"Whether there is a previous page","example":false}},"required":["items","total","page","limit","totalPages","hasNextPage","hasPrevPage"]},"CreateProductVariantOptionDto":{"type":"object","properties":{"value":{"type":"string","description":"Option value (e.g., Small, Red)","example":"Small"}},"required":["value"]},"CreateProductVariantDto":{"type":"object","properties":{"title":{"type":"string","description":"Variant title","example":"Small / Blue"},"price":{"type":"number","description":"Variant price","example":299000},"sku":{"type":"string","description":"SKU (Stock Keeping Unit)","example":"HWB-001-S-BLUE"},"stockQuantity":{"type":"number","description":"Stock quantity","example":25,"default":0},"weight":{"type":"number","description":"Weight in grams","example":250},"image":{"type":"string","description":"Variant image","example":"https://example.com/images/bowl1-small-blue.jpg"},"variantOptions":{"description":"Variant option values","type":"array","items":{"$ref":"#/components/schemas/CreateProductVariantOptionDto"}}},"required":["title","price","variantOptions"]},"CreateProductOptionDto":{"type":"object","properties":{"name":{"type":"string","description":"Option name (e.g., Size, Color)","example":"Size"}},"required":["name"]},"CreateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the product","example":"Handcrafted Wooden Bowl"},"description":{"type":"string","description":"Detailed description of the product","example":"Beautiful handcrafted wooden bowl made from oak wood"},"category_id":{"type":"string","description":"Category ID of the product"},"currency":{"type":"string","description":"Currency code","example":"VND","default":"VND"},"images":{"description":"Array of image URLs/paths","example":["https://example.com/images/bowl1.jpg","https://example.com/images/bowl2.jpg"],"type":"array","items":{"type":"string"}},"featuredImage":{"type":"string","description":"URL/path of the featured image for the product","example":"https://example.com/images/bowl1.jpg"},"variants":{"description":"Product variants","type":"array","items":{"$ref":"#/components/schemas/CreateProductVariantDto"}},"options":{"description":"Product options (e.g., Size, Color)","type":"array","items":{"$ref":"#/components/schemas/CreateProductOptionDto"}}},"required":["name","variants","options"]},"CategoryDto":{"type":"object","properties":{"id":{"type":"string","description":"Category unique identifier (Snowflake ID)","example":"1234567890123456789"},"name":{"type":"string","description":"Category name","example":"Home Decor"},"slug":{"type":"string","description":"URL path for the category","example":"/home-decor"},"image":{"type":"string","description":"Category image URL or path","example":"https://example.com/images/home-decor.jpg","nullable":true},"parents":{"description":"Parent category","nullable":true,"type":"array","items":{"type":"string"}},"isLeaf":{"type":"boolean","description":"If this category has no subcategories","example":true},"children":{"description":"Children categories","nullable":true,"type":"array","items":{"type":"string"}},"productsCount":{"type":"number","description":"Number of products in this category","example":10}},"required":["id","name","slug","isLeaf","productsCount"]},"ProductVariantOptionDto":{"type":"object","properties":{"id":{"type":"string","description":"Variant option unique identifier (Snowflake ID)"},"value":{"type":"string","description":"Option value","example":"Small"},"orderIndex":{"type":"number","description":"Order index of this option in the variant","example":1}},"required":["id","value","orderIndex"]},"ProductVariantDto":{"type":"object","properties":{"id":{"type":"string","description":"Variant unique identifier (Snowflake ID)"},"productId":{"type":"string","description":"Product ID this variant belongs to"},"title":{"type":"string","description":"Variant title","example":"Small / Blue"},"price":{"type":"number","description":"Variant price","example":299000},"sku":{"type":"string","description":"SKU (Stock Keeping Unit)","example":"HWB-001-S-BLUE"},"stockQuantity":{"type":"number","description":"Available stock quantity","example":25},"weight":{"type":"number","description":"Weight in grams","example":250},"image":{"type":"string","description":"Variant image","example":"https://example.com/images/bowl1-small-blue.jpg"},"variantOptions":{"description":"Variant options","type":"array","items":{"$ref":"#/components/schemas/ProductVariantOptionDto"}},"createdAt":{"format":"date-time","type":"string","description":"Created date and time"},"updatedAt":{"format":"date-time","type":"string","description":"Last updated date and time"}},"required":["id","productId","title","price","stockQuantity","createdAt","updatedAt"]},"ProductOptionDto":{"type":"object","properties":{"id":{"type":"string","description":"Option unique identifier (Snowflake ID)"},"name":{"type":"string","description":"Option name","example":"Size"}},"required":["id","name"]},"ProductDto":{"type":"object","properties":{"id":{"type":"string","description":"Product unique identifier (Snowflake ID)"},"name":{"type":"string","description":"Product name","example":"Handcrafted Wooden Bowl"},"slug":{"type":"string","description":"SEO-friendly URL slug","example":"handcrafted-wooden-bowl"},"description":{"type":"string","description":"Product description","example":"Beautiful handcrafted wooden bowl made from sustainable oak wood"},"category":{"description":"Category information","allOf":[{"$ref":"#/components/schemas/CategoryDto"}]},"currency":{"type":"string","description":"Currency code","example":"VND"},"images":{"description":"Product images","example":["https://example.com/images/bowl1.jpg","https://example.com/images/bowl2.jpg"],"type":"array","items":{"type":"array"}},"featuredImage":{"type":"string","description":"Product thumbnail image","example":"https://example.com/images/bowl_thumbnail.jpg"},"priceMin":{"type":"number","description":"Minimum price across all variants","example":299000},"priceMax":{"type":"number","description":"Maximum price across all variants","example":350000},"purchaseCount":{"type":"number","description":"Number of times the product has been purchased","example":120,"default":0},"rating":{"type":"number","description":"Product rating (0-5)","example":4,"default":0},"variants":{"description":"Product variants","type":"array","items":{"$ref":"#/components/schemas/ProductVariantDto"}},"options":{"description":"Product options","type":"array","items":{"$ref":"#/components/schemas/ProductOptionDto"}},"createdAt":{"format":"date-time","type":"string","description":"Created date and time"},"updatedAt":{"format":"date-time","type":"string","description":"Last updated date and time"}},"required":["id","name","slug","currency","priceMin","priceMax","purchaseCount","rating","createdAt","updatedAt"]},"CreateSimpleProductDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the product","example":"Handcrafted Wooden Bowl"},"description":{"type":"string","description":"Detailed description of the product","example":"Beautiful handcrafted wooden bowl made from oak wood"},"category_id":{"type":"string","description":"Category ID of the product"},"price":{"type":"number","description":"Price of the product","example":250000},"sku":{"type":"string","description":"SKU (Stock Keeping Unit) of the product","example":"WB-001"},"stockQuantity":{"type":"number","description":"Available stock quantity","example":10,"default":0},"weight":{"type":"number","description":"Weight of the product in grams","example":500},"currency":{"type":"string","description":"Currency code","example":"VND","default":"VND"},"images":{"description":"Array of image URLs/paths","example":["https://example.com/images/bowl1.jpg","https://example.com/images/bowl2.jpg"],"type":"array","items":{"type":"string"}},"featuredImage":{"type":"string","description":"URL/path of the featured image for the product","example":"https://example.com/images/bowl1.jpg"}},"required":["name","price"]},"UpdateProductVariantOptionDto":{"type":"object","properties":{"id":{"type":"string","description":"Variant Option ID"},"optionId":{"type":"string","description":"Option ID this value belongs to"},"value":{"type":"string","description":"Option value (e.g., Small, Red)","example":"Small"}},"required":["id"]},"UpdateProductVariantDto":{"type":"object","properties":{"id":{"type":"string","description":"Variant ID"},"title":{"type":"string","description":"Variant title","example":"Small / Blue"},"price":{"type":"number","description":"Variant price","example":299000},"sku":{"type":"string","description":"SKU (Stock Keeping Unit)","example":"HWB-001-S-BLUE"},"stockQuantity":{"type":"number","description":"Stock quantity","example":25},"weight":{"type":"number","description":"Weight in grams","example":250},"image":{"type":"string","description":"Variant image","example":"https://example.com/images/bowl1-small-blue.jpg"},"variantOptions":{"description":"Variant option values","type":"array","items":{"$ref":"#/components/schemas/UpdateProductVariantOptionDto"}}},"required":["id"]},"UpdateProductOptionDto":{"type":"object","properties":{"id":{"type":"string","description":"Option ID"},"name":{"type":"string","description":"Option name (e.g., Size, Color)","example":"Size"}},"required":["id"]},"UpdateProductDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the product","example":"Handcrafted Wooden Bowl"},"slug":{"type":"string","description":"SEO-friendly URL slug","example":"handcrafted-wooden-bowl"},"description":{"type":"string","description":"Detailed description of the product","example":"Beautiful handcrafted wooden bowl made from oak wood"},"category_id":{"type":"string","description":"Category ID of the product","example":"550e8400-e29b-41d4-a716-446655440000"},"currency":{"type":"string","description":"Currency code","example":"VND"},"images":{"description":"Array of image URLs/paths","example":["https://example.com/images/bowl1.jpg","https://example.com/images/bowl2.jpg"],"type":"array","items":{"type":"string"}},"featuredImage":{"type":"string","description":"URL/path of the featured image for the product","example":"https://example.com/images/bowl1.jpg"},"variants":{"description":"Product variants","type":"array","items":{"$ref":"#/components/schemas/UpdateProductVariantDto"}},"options":{"description":"Product options (e.g., Size, Color)","type":"array","items":{"$ref":"#/components/schemas/UpdateProductOptionDto"}}}},"PaginatedProductResponseDto":{"type":"object","properties":{"items":{"description":"Array of product items","type":"array","items":{"$ref":"#/components/schemas/ProductDto"}},"total":{"type":"number","description":"Total number of items","example":42},"page":{"type":"number","description":"Current page number","example":1},"limit":{"type":"number","description":"Number of items per page","example":10},"totalPages":{"type":"number","description":"Total number of pages","example":5},"hasNextPage":{"type":"boolean","description":"Whether there is a next page","example":true},"hasPrevPage":{"type":"boolean","description":"Whether there is a previous page","example":false}},"required":["items","total","page","limit","totalPages","hasNextPage","hasPrevPage"]},"CreateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"Category name","example":"Home Decor"},"parentId":{"type":"string","description":"Parent category ID","nullable":true},"image":{"type":"string","description":"Category image URL or path","example":"https://example.com/images/home-decor.jpg","nullable":true}},"required":["name"]},"Category":{"type":"object","properties":{}},"UpdateCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"Category name","example":"Home Decor"},"pathUrl":{"type":"string","description":"URL path for the category","example":"/home-decor"},"image":{"type":"string","description":"Category image URL or path","example":"https://example.com/images/home-decor.jpg","nullable":true},"parentId":{"type":"string","description":"Parent category ID","example":"550e8400-e29b-41d4-a716-446655440000","nullable":true},"isLeaf":{"type":"boolean","description":"Whether this category has no subcategories","example":true}}},"GetMenuCategoryResponseDto":{"type":"object","properties":{"categories":{"description":"List of categories","type":"array","items":{"$ref":"#/components/schemas/CategoryDto"}}},"required":["categories"]},"CreatePromotionDto":{"type":"object","properties":{"name":{"type":"string","description":"Promotion name","example":"Summer Sale 2023"},"description":{"type":"string","description":"Promotion description","example":"Get 20% off all summer items"},"promoCode":{"type":"string","description":"Promotion code (unique)","example":"SUMMER20"},"type":{"type":"string","description":"Promotion type","enum":["PERCENTAGE_DISCOUNT","FIXED_AMOUNT_DISCOUNT","FREE_SHIPPING"],"example":"PERCENTAGE_DISCOUNT"},"discountValue":{"type":"number","description":"Discount value (percentage, fixed amount, etc.)","example":20},"startDate":{"format":"date-time","type":"string","description":"Promotion start date","example":"2023-06-01T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"Promotion end date","example":"2023-08-31T23:59:59Z"},"minimumOrderAmount":{"type":"number","description":"Minimum order amount required to use promotion","example":500000},"usageLimit":{"type":"number","description":"Maximum number of times this promotion can be used","example":1000}},"required":["name","type","discountValue","endDate"]},"PromotionDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the promotion (Snowflake ID)","example":"1234567890123456789"},"name":{"type":"string","description":"Name of the promotion","example":"Black Friday Sale"},"description":{"type":"string","description":"Description of the promotion","example":"Get 50% off on all items during Black Friday!"},"promoCode":{"type":"string","description":"Promotion code customers can use at checkout","example":"BLACKFRIDAY50"},"startDate":{"format":"date-time","type":"string","description":"Start date of the promotion","example":"2023-11-24T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"End date of the promotion","example":"2023-11-30T23:59:59Z"},"type":{"type":"string","description":"Type of promotion","enum":["PERCENTAGE_DISCOUNT","FIXED_AMOUNT_DISCOUNT","FREE_SHIPPING"],"example":"PERCENTAGE_DISCOUNT"},"discountValue":{"type":"number","description":"Value of the discount","example":50},"minimumOrderAmount":{"type":"number","description":"Minimum order amount required to use promotion","example":100},"usageLimit":{"type":"number","description":"Maximum number of times this promotion can be used","example":1000},"usageCount":{"type":"number","description":"Current usage count of the promotion","example":150},"isActive":{"type":"boolean","description":"Indicates if the promotion is active","example":true},"createdAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was created","example":"2023-11-01T12:00:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was last updated","example":"2023-11-01T12:00:00Z"}},"required":["id","name","startDate","endDate","type","discountValue","isActive","createdAt","updatedAt"]},"UpdatePromotionDto":{"type":"object","properties":{"name":{"type":"string","description":"Promotion name","example":"Summer Sale 2023"},"description":{"type":"string","description":"Promotion description","example":"Get 20% off all summer items"},"promoCode":{"type":"string","description":"Promotion code (unique)","example":"SUMMER20"},"type":{"type":"string","description":"Promotion type","enum":["PERCENTAGE_DISCOUNT","FIXED_AMOUNT_DISCOUNT","FREE_SHIPPING"],"example":"PERCENTAGE_DISCOUNT"},"discountValue":{"type":"number","description":"Discount value (percentage, fixed amount, etc.)","example":20},"startDate":{"format":"date-time","type":"string","description":"Promotion start date","example":"2023-06-01T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"Promotion end date","example":"2023-08-31T23:59:59Z"},"minimumOrderAmount":{"type":"number","description":"Minimum order amount required to use promotion","example":500000},"usageLimit":{"type":"number","description":"Maximum number of times this promotion can be used","example":1000},"isActive":{"type":"boolean","description":"Is the promotion active","example":true}}},"ValidateCodePromotionResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique identifier for the promotion (Snowflake ID)","example":"1234567890123456789"},"name":{"type":"string","description":"Name of the promotion","example":"Black Friday Sale"},"description":{"type":"string","description":"Description of the promotion","example":"Get 50% off on all items during Black Friday!"},"promoCode":{"type":"string","description":"Promotion code customers can use at checkout","example":"BLACKFRIDAY50"},"startDate":{"format":"date-time","type":"string","description":"Start date of the promotion","example":"2023-11-24T00:00:00Z"},"endDate":{"format":"date-time","type":"string","description":"End date of the promotion","example":"2023-11-30T23:59:59Z"},"type":{"type":"string","description":"Type of promotion","enum":["PERCENTAGE_DISCOUNT","FIXED_AMOUNT_DISCOUNT","FREE_SHIPPING"],"example":"PERCENTAGE_DISCOUNT"},"discountValue":{"type":"number","description":"Value of the discount","example":50},"minimumOrderAmount":{"type":"number","description":"Minimum order amount required to use promotion","example":100},"usageLimit":{"type":"number","description":"Maximum number of times this promotion can be used","example":1000},"usageCount":{"type":"number","description":"Current usage count of the promotion","example":150},"isActive":{"type":"boolean","description":"Indicates if the promotion is active","example":true},"createdAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was created","example":"2023-11-01T12:00:00Z"},"updatedAt":{"format":"date-time","type":"string","description":"Timestamp when the promotion was last updated","example":"2023-11-01T12:00:00Z"},"valid":{"type":"boolean","description":"Indicates if the promotion code is valid","example":true},"promotion":{"description":"Promotion object if the code is valid","allOf":[{"$ref":"#/components/schemas/PromotionDto"}]},"message":{"type":"string","description":"Message indicating the reason for validation failure","example":"Promotion code is expired"}},"required":["id","name","startDate","endDate","type","discountValue","isActive","createdAt","updatedAt","valid"]},"CartItemProductVariantDto":{"type":"object","properties":{"id":{"type":"string","description":"Variant unique identifier (Snowflake ID)"},"productId":{"type":"string","description":"Product ID this variant belongs to"},"title":{"type":"string","description":"Variant title","example":"Small / Blue"},"price":{"type":"number","description":"Variant price","example":299000},"sku":{"type":"string","description":"SKU (Stock Keeping Unit)","example":"HWB-001-S-BLUE"},"stockQuantity":{"type":"number","description":"Available stock quantity","example":25},"weight":{"type":"number","description":"Weight in grams","example":250},"image":{"type":"string","description":"Variant image","example":"https://example.com/images/bowl1-small-blue.jpg"},"variantOptions":{"description":"Variant options","type":"array","items":{"$ref":"#/components/schemas/ProductVariantOptionDto"}},"createdAt":{"format":"date-time","type":"string","description":"Created date and time"},"updatedAt":{"format":"date-time","type":"string","description":"Last updated date and time"},"productName":{"type":"string","description":"Product name","example":"Blue Bowl"}},"required":["id","productId","title","price","stockQuantity","createdAt","updatedAt","productName"]},"CartItemDto":{"type":"object","properties":{"id":{"type":"string","description":"Cart item unique identifier","example":"1234567890123456789"},"cartId":{"type":"string","description":"Cart this item belongs to","example":"9876543210987654321"},"productVariant":{"description":"Product variant details","allOf":[{"$ref":"#/components/schemas/CartItemProductVariantDto"}]},"quantity":{"type":"number","description":"Quantity of this item in the cart","example":2},"price":{"type":"number","description":"Price for this item (quantity × unit price)","example":599800},"createdAt":{"format":"date-time","type":"string","description":"Creation timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Last update timestamp"}},"required":["id","cartId","productVariant","quantity","price","createdAt","updatedAt"]},"CartDto":{"type":"object","properties":{"id":{"type":"string","description":"Cart unique identifier","example":"1234567890123456789"},"cartItems":{"description":"Items in the cart","type":"array","items":{"$ref":"#/components/schemas/CartItemDto"}},"totalItems":{"type":"number","description":"Total number of items in the cart","example":5},"subtotal":{"type":"number","description":"Subtotal price of all items in the cart","example":150000}},"required":["id","cartItems","totalItems","subtotal"]},"AddToCartDto":{"type":"object","properties":{"productVariantId":{"type":"string","description":"Product variant ID to add to cart","example":"1234567890123456789"},"quantity":{"type":"number","description":"Quantity to add","example":1,"default":1,"minimum":1}},"required":["productVariantId","quantity"]},"CartItemInputDto":{"type":"object","properties":{"productId":{"type":"string","description":"Product ID to add to cart","example":"1234567890123456789"},"quantity":{"type":"number","description":"Quantity to add","example":1,"default":1,"minimum":1}},"required":["productId","quantity"]},"AddMultipleToCartDto":{"type":"object","properties":{"items":{"description":"Array of items to add to cart","type":"array","items":{"$ref":"#/components/schemas/CartItemInputDto"}}},"required":["items"]},"UpdateCartItemDto":{"type":"object","properties":{"quantity":{"type":"number","description":"New quantity for the cart item","example":2,"minimum":1}},"required":["quantity"]},"InfoDto":{"type":"object","properties":{"phone":{"type":"string","description":"Phone number","example":"123-456-7890"},"address":{"type":"string","description":"Street address","example":"123 Main St, Apt 4B"},"city":{"type":"string","description":"City","example":"New York"},"country":{"type":"string","description":"Country","example":"USA"}},"required":["phone","address","city","country"]},"ApplyPromotionDto":{"type":"object","properties":{"code":{"type":"string","description":"Promotion code to apply","example":"SUMMER20"}},"required":["code"]},"PaymentInfoDto":{"type":"object","properties":{"paymentMethod":{"type":"string","description":"Payment method","enum":["paypal","vnpay"],"example":"vnpay"}},"required":["paymentMethod"]},"PlaceOrderDto":{"type":"object","properties":{"shippingInfo":{"description":"Shipping address information","allOf":[{"$ref":"#/components/schemas/InfoDto"}]},"promotion":{"description":"Promotion code to apply to the order","allOf":[{"$ref":"#/components/schemas/ApplyPromotionDto"}]},"paymentInfo":{"description":"Payment information","allOf":[{"$ref":"#/components/schemas/PaymentInfoDto"}]},"notes":{"type":"string","description":"Notes for the order","example":"Please leave package at the door"},"items":{"description":"List of order items","type":"array","items":{"type":"string"}}},"required":["shippingInfo","paymentInfo","items"]},"OrderItemDto":{"type":"object","properties":{"id":{"type":"string","description":"Order item ID","example":"1234567890"},"orderId":{"type":"string","description":"Order ID","example":"9876543210"},"productVariantId":{"type":"string","description":"Product variant ID","example":"123456789"},"productVariant":{"description":"Product variant","allOf":[{"$ref":"#/components/schemas/ProductVariantDto"}]},"quantity":{"type":"number","description":"Quantity of items","example":2},"unitPrice":{"type":"number","description":"Unit price","example":25000},"totalPrice":{"type":"number","description":"Total price for this item","example":50000}},"required":["id","orderId","productVariantId","productVariant","quantity","unitPrice","totalPrice"]},"OrderPromotionDto":{"type":"object","properties":{"id":{"type":"string","description":"Order promotion unique identifier","example":"1234567890123456789"},"orderId":{"type":"string","description":"Order this promotion applies to","example":"9876543210987654321"},"promotionId":{"type":"string","description":"Promotion identifier","example":"5555555555555555555"},"discountAmount":{"type":"number","description":"Discount amount applied to the order","example":25000},"createdAt":{"format":"date-time","type":"string","description":"Created timestamp"},"updatedAt":{"format":"date-time","type":"string","description":"Last updated timestamp"}},"required":["id","orderId","discountAmount","createdAt","updatedAt"]},"OrderDto":{"type":"object","properties":{"id":{"type":"string","description":"Order unique identifier","example":"1234567890123456789"},"orderStatus":{"type":"string","description":"Current order status","example":"pending","enum":["pending","paid","processing","ready_to_ship","shipped","delivered","completed","cancelled","refund_requested","refunded","partially_refunded"]},"totalAmount":{"type":"number","description":"Total order amount","example":150000},"paymentStatus":{"type":"string","description":"Current payment status","example":"unpaid","enum":["pending","completed","failed","refunded","partially_refunded"]},"shippingInfo":{"type":"object","description":"Shipping info"},"orderItems":{"description":"Items in the order","type":"array","items":{"$ref":"#/components/schemas/OrderItemDto"}},"orderPromotions":{"description":"Applied promotions","type":"array","items":{"$ref":"#/components/schemas/OrderPromotionDto"}},"paymentUrl":{"type":"string","description":"Payment URL for online payment","example":"https://payment.example.com/transaction/123456"}},"required":["id","orderStatus","totalAmount","paymentStatus","shippingInfo","orderItems"]},"PaginatedOrderResponseDto":{"type":"object","properties":{"items":{"description":"Array of order items","type":"array","items":{"$ref":"#/components/schemas/OrderDto"}},"total":{"type":"number","description":"Total number of items","example":42},"page":{"type":"number","description":"Current page number","example":1},"limit":{"type":"number","description":"Number of items per page","example":10},"totalPages":{"type":"number","description":"Total number of pages","example":5},"hasNextPage":{"type":"boolean","description":"Whether there is a next page","example":true},"hasPrevPage":{"type":"boolean","description":"Whether there is a previous page","example":false}},"required":["items","total","page","limit","totalPages","hasNextPage","hasPrevPage"]},"LoginDto":{"type":"object","properties":{"email":{"type":"string","description":"User email address","example":"user@example.com"},"password":{"type":"string","description":"User password","example":"123456","minLength":6}},"required":["email","password"]},"LoginResponseDto":{"type":"object","properties":{"token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["token"]},"RegisterDto":{"type":"object","properties":{"fullName":{"type":"string","description":"User full name","example":"John Doe"},"email":{"type":"string","description":"User email address (must be unique)","example":"user@example.com"},"password":{"type":"string","description":"User password","example":"123456","minLength":6}},"required":["fullName","email","password"]},"RegisterResponseDto":{"type":"object","properties":{"token":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["token"]},"SocialAuthRequestDto":{"type":"object","properties":{"token":{"type":"string","description":"Authentication token received from social provider","example":"ya29.a0AfB_byBmToEnZnH6IKt5Z4WoSc7DmJ8oBTg..."},"provider":{"type":"string","description":"Authentication provider type","enum":["google","facebook"],"example":"google"}},"required":["token","provider"]},"VerifyTokenDto":{"type":"object","properties":{"token":{"type":"string","description":"JWT token to verify","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}},"required":["token"]},"VerifyTokenResponseDto":{"type":"object","properties":{"valid":{"type":"boolean","description":"Indicates if the token is valid","example":true},"userId":{"type":"string","description":"User ID associated with the token (if valid)","example":"550e8400-e29b-41d4-a716-446655440000"},"email":{"type":"string","description":"Email associated with the token (if valid)","example":"user@example.com"},"fullName":{"type":"string","description":"User's full name (if valid)","example":"John Doe"},"exp":{"type":"number","description":"Expiration time of the token in Unix timestamp (if valid)","example":1714631436},"message":{"type":"string","description":"Message providing additional context about verification result","example":"Token is valid"}},"required":["valid"]},"CreateCommentDto":{"type":"object","properties":{"content":{"type":"string","description":"Content of the comment","example":"This is a great product!"}},"required":["content"]},"UpdateCommentDto":{"type":"object","properties":{"content":{"type":"string","description":"Content of the comment","example":"This is a great product!"},"status":{"type":"string","description":"Status of the comment","enum":["pending","approved","rejected"],"example":"approved"}}},"CreateCommentReplyDto":{"type":"object","properties":{"content":{"type":"string","description":"Content of the reply","example":"Thank you for your feedback!"},"commentId":{"type":"string","description":"ID of the comment being replied to","example":"1"}},"required":["content","commentId"]},"UpdateCommentReplyDto":{"type":"object","properties":{"content":{"type":"string","description":"Content of the reply","example":"Thank you for your feedback!"}}},"AdminUpdateUserDto":{"type":"object","properties":{"fullName":{"type":"string","description":"User full name","example":"John Doe"},"email":{"type":"string","description":"User email address","example":"john@example.com"},"password":{"type":"string","description":"User password","example":"StrongPassword123"},"role":{"type":"string","description":"User role","enum":["user","admin"],"example":"admin"},"phone":{"type":"string","description":"User phone number","example":"+1234567890"},"address":{"type":"string","description":"User address","example":"123 Main St"},"city":{"type":"string","description":"User city","example":"New York"},"country":{"type":"string","description":"User country","example":"USA"}}},"UpdateOrderStatusDto":{"type":"object","properties":{"orderStatus":{"type":"string","description":"The new status of the order","enum":["pending","paid","processing","ready_to_ship","shipped","delivered","completed","cancelled","refund_requested","refunded","partially_refunded"],"example":"processing"},"statusNote":{"type":"string","description":"Optional note about the status change","example":"Order processed and ready for shipping"}},"required":["orderStatus"]},"RejectCommentDto":{"type":"object","properties":{}},"AdminReplyDto":{"type":"object","properties":{}}}}}